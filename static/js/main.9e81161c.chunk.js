(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t){e.exports={eventCodes:{fixation:1,evidence:5,show_earnings:7,test_connect:32,open_task:18}}},,,,,,,,,function(e,t,n){e.exports=n(30)},,,,,function(e,t,n){},,,,function(e){e.exports={task:{name:"Neuro Task",end:"This experiment has ended."},prompt:{continue:{press:"Press any key to continue.",button:"Continue"},focus:"Make sure the photodiode is aligned and the EEG recording has begun before continuing.",fullscreen:"Press 'cmd + ctrl + F' to toggle Fullscreen.",zoom:"Zoom in to enlarge the screen.",setting_up:"Setting up task..."},welcome:{large_window:"Please make this window as large as possible.",message:"Instructions"},userid:{set:"Please enter patient ID."},eventMarker:{found:"Hold the USB event marker in front of the camera.",not_found:"Note: no USB event marker found."},countdown:{message1:"Countdown for the first block",message2:"Countdown for the second block"}}},function(e){e.exports={welcome:{message:"Welcome to the NEURO experiment."},userid:{set:"Setting up user ID."}}},function(e,t,n){var o={"./blue_payout_correct_10.png":25,"./blue_payout_correct_100.png":26};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=24},function(e,t,n){e.exports=n.p+"static/media/blue_payout_correct_10.f515a81e.png"},function(e,t,n){e.exports=n.p+"static/media/blue_payout_correct_100.ae2416c7.png"},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var o=n(2),r=n.n(o),i=n(7),s=n.n(i),a=(n(18),n(3)),c=n.n(a),u=n(8),d=n(9),p=n(11),l=n(10),f=n(12),m=n(0),h=n(1),v=n.n(h),b=function(e,t){var n=h.range(t,0,-1).map(function(e){return{prompt:"<h1>".concat(e,"</h1>")}});return{type:"html_keyboard_response",stimulus:"<h3>".concat(e,"</h3"),trial_duration:1e3,response_ends_trial:!1,timeline:n}},g=n(4),k=!m.jsPsych.turk.turkInfo().outsideTurk,y="true"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_AT_HOME,w=!0;try{window.require("electron")}catch(ce){w=!1}var E=n(22);if(k){var O=n(23);v.a.merge(E,O)}var P={conditions:["a","b","c"],repeats_per_condition:1,is_practice:!1,is_tutorial:!1,photodiode_active:!1},x=n(5),T=n.n(x),C=!1;if(w){var I=window.require("electron");C=I.ipcRenderer}var N,j=function(){return'<div class="photodiode-box '.concat(y||!w?"invisible":"visible",'" id="photodiode-box">\n\t\t\t\t\t\t\t\t\t<span id="photodiode-spot" class="photodiode-spot"></span>\n  \t\t\t\t\t\t\t\t</div>')},D=function(e){if(!y&&w){var t=e;e<g.eventCodes.open_task&&(t=1),function e(t,n){n>0&&function(e,t){T()(".photodiode-spot").css({"background-color":"black"}),setTimeout(function(){T()(".photodiode-spot").css({"background-color":"white"}),t()},e)}(t,function(){setTimeout(function(){e(t,n-1)},t)})}(40,t),C&&C.send("trigger",e)}},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"<div class=".concat(t?"main-prompt":"main",">").concat(e,"</div>")},U=function(){return{type:"html_button_response",stimulus:M("<h1>".concat(E.task.name,"</h1>"),!0)+j(),choices:[E.prompt.continue.button]}},A=function(){return{type:"html_keyboard_response",stimulus:M("<h1>".concat(E.prompt.setting_up,"</h1>"),!0)+j(),trial_duration:2e3,on_load:function(){D(g.eventCodes.open_task)}}},R=function(e){return new Promise(function(t){return setTimeout(t,e)})},S=function(e){return function(e,t){return e+Math.floor(Math.random()*Math.floor(t))}(e,50)},L=function(e){return JSON.parse(JSON.stringify(e))},B=((N=n(24)).keys().map(N),function(){var e=m.jsPsych.turk.turkInfo();return"".concat(e.workerId,":").concat(e.assignmentId)}),F=function(){return k?{type:"html_keyboard_response",stimulus:M("<h1>".concat(E.userid.set,"</h1>"),!0),response_ends_trial:!1,trial_duration:800,on_finish:function(e){var t=B();console.log(t)}}:{type:"survey_text",questions:[{prompt:M("<h1>".concat(E.userid.set,"</h1>"),!0),value:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_PATIENT_ID}],on_finish:function(e){!function(e){var t=JSON.parse(e.responses).Q0;m.jsPsych.data.addProperties({patient_id:t,timestamp:Date.now()}),console.log("ID",t)}(e)}}},H=function(){return c.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'<span style="color: green;">'.concat(E.eventMarker.found,"</span>"));case 1:case"end":return e.stop()}})},J=function(){return{type:"html_button_response",stimulus:M("<div><h2 id='usb-alert'></h2></div>",!0)+j(),prompt:["<br><h3>".concat(E.prompt.focus,"</h3>")],choices:[E.prompt.continue.button],on_load:function(){return H().then(function(e){return document.getElementById("usb-alert").innerHTML=e})}}};console.log("at_home",y),console.log("env at home",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_AT_HOME);var q={type:"html_keyboard_response",stimulus:"",timeline:y||!w?[U(),F()]:[U(),F(),J(),A()]},V=function(e){return{type:"html_keyboard_response",stimulus:M("<h1>".concat(E.task.end,"</h1>"),!0)+j(),trial_duration:e}},z=function(e){var t='<div class="beads_container"><div id="fixation-dot"> </div></div>'+j(),n=g.eventCodes.fixation;return{type:"html_keyboard_response",choices:m.jsPsych.NO_KEYS,stimulus:t,response_ends_trial:!1,trial_duration:S(e),on_load:function(){return D(n)},on_finish:function(e){return e.code=n}}},G=function(e,t,n){var o=g.eventCodes.evidence;return{type:"html_keyboard_response",stimulus:"",response_ends_trial:!1,trial_duration:t,on_start:function(t){t.stimulus=M(e)+j()},on_load:function(){return D(o)},on_finish:function(e){return e.code=o}}},K=function(e){return"<div class='beads_container'>\n    <h1 class='text-".concat(e>=0?"success":"danger","'>").concat("$"+parseFloat(e).toFixed(2),"</h1>\n    </div>")},Q=function(e,t){var n=g.eventCodes.show_earnings;return{type:"html_keyboard_response",stimulus:"",response_ends_trial:!1,trial_duration:t,on_load:function(){return D(n)},on_start:function(e){var t=Math.random();e.stimulus=K(t),w&&!y&&(e.stimulus+=j())},on_finish:function(e){return e.code=n}}},W=function(e,t,n){var o={condition:n,trial_earnings:0,start_time:Date.now()};return{type:"html_keyboard_response",timeline:[G(n,1e3,500),z(650),Q(o,500)]}},Y=function(e){var t=function(e){var t=e.conditions.map(function(t){return v.a.range(e.repeats_per_condition).map(function(){return t})});return v.a.shuffle(v.a.flatten(t))}(e),n={block_earnings:0,optimal_earnings:0,continue_block:!0},o=t.map(function(t){return W(e,n,t)}),r={type:"html_keyboard_response",stimulus:"",trial_duration:1,on_finish:function(t){return t.block_settings=e}};return o.unshift(r),{type:"html_keyboard_response",timeline:o}},Z=L(P);Z.conditions=["m","n"],Z.repeats_per_condition=1,Z.is_practice=!0;var $=L(P);$.is_tutorial=!0,$.photodiode_active=!1;var X=L(P);X.repeats_per_condition=2;var ee=L(P);ee.conditions=["e","f"],ee.repeats_per_condition=2;var te=[q,b(E.countdown.message1,3),Y(Z),b(E.countdown.message2,3),Y(X),V(5e3)],ne=[q,b(E.countdown.message1,3),Y($),b(E.countdown.message2,3),Y(ee),V(3e3)],oe=k?ne:te,re=(n(27),n(28),n(29),!1),ie=!1;if(w){var se=window.require("electron");re=se.ipcRenderer}else k&&(window.lodash=_.noConflict(),ie=new PsiTurk(B(),"/complete"));var ae=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return console.log("Outside Turk:",m.jsPsych.turk.turkInfo().outsideTurk),console.log("Turk:",k),r.a.createElement("div",{className:"App"},r.a.createElement(m.Experiment,{settings:{timeline:oe,on_data_update:function(e){re?re.send("data",e):ie&&ie.recordTrialData(e)},on_finish:function(e){if(re)re.send("end","true");else if(ie){c.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return ie.saveData(),e.next=3,c.a.awrap(R(5e3));case 3:ie.completeHIT();case 4:case"end":return e.stop()}})}else m.jsPsych.data.get().localSave("csv","neuro-task.csv")}}}))}}]),t}(r.a.Component);s.a.render(r.a.createElement(ae,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.9e81161c.chunk.js.map